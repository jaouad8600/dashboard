generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Groep {
  id        String     @id @default(uuid())
  naam      String @unique
  kleur     String     @default("gray")
  afdeling   String?
  notities  Notitie[]
  createdAt DateTime   @default(now())
}

model Notitie {
  id        String   @id @default(uuid())
  tekst     String
  auteur    String?
  datumISO  DateTime @default(now())
  groep     Groep    @relation(fields: [groepId], references: [id])
  groepId   String
}

model Materiaal {
  id        String   @id @default(uuid())
  naam      String
  aantal    Int
  locatie   String
  status    String
  createdAt DateTime @default(now())
}

model Overdracht {
  id        String   @id @default(uuid())
  auteur    String
  bericht   String
  datumISO  DateTime @default(now())
  tijd      String
  belangrijk Boolean  @default(false)
}

model Planning {
  id        String   @id @default(uuid())
  titel     String
  locatie   String
  start     DateTime
  eind      DateTime
  notitie   String?
  createdAt DateTime @default(now())
}


enum SportMutatieStatus {
  OPEN
  IN_BEHANDELING
  AFGEROND
}


model Sportmutatie {
  id         String             @id @default(cuid())
  titel      String
  opmerking  String?
  status     SportMutatieStatus @default(OPEN)
  groepNaam  String?
  createdAt  DateTime           @default(now())
  updatedAt  DateTime           @updatedAt
}

// ========== Indicaties (sport) ==========
enum IndicatieStatus {
  OPEN
  IN_BEHANDELING
  AFGEROND
}




enum EvaluatieType {
  TUSSEN
  EIND
}

model Indicatie {
  id             String     @id @default(cuid())
  naam           String
  type           String
  status         String
  groepId        String?
  start          DateTime?
  eind           DateTime?
  opmerking      String?
  archivedAt     DateTime?
  archivedReason String?
  createdAt      DateTime   @default(now())
  updatedAt      DateTime   @updatedAt

  evaluaties     Evaluatie[]

  @@index([status])
  @@index([groepId])
}

model Evaluatie {
  id          String         @id @default(cuid())
  indicatieId String
  indicatie   Indicatie      @relation(fields: [indicatieId], references: [id], onDelete: Cascade)
  type        EvaluatieType  @default(TUSSEN)
  inhoud      String
  ontvanger   String?
  createdAt   DateTime       @default(now())
}
